<h2 class="text-info" style="text-align: center; margin-top: 5px">Pokédex</h2>
<div class="input-group mb-3">
  <span class="input-group-text" id="inputGroup-sizing-default">Search</span>
  <input
    type="text"
    class="form-control"
    aria-label="Pokémon search input"
    [(ngModel)]="pokeSearchString"
    (ngModelChange)="filterPokemon($event)"
  />
</div>
<div class="d-flex" style="width: min(1100px, 100vw - 25px)">
  <div
    style="
      width: clamp(140px, 15vw, 300px);
      max-height: calc(100vh - 163px);
      overflow-y: auto;
    "
  >
    <div class="list-group" id="list-tab" role="tablist">
      <a
        *ngFor="let poke of filteredPokemon; let i = index"
        class="list-group-item list-group-item-action capitalize"
        [ngClass]="{ active: focusedPoke === poke }"
        id="{{ poke.name }}"
        role="tab"
        style="cursor: pointer"
        (click)="getPokemonDetails(poke)"
        >{{ poke.name }}</a
      >
    </div>
  </div>

  <div
    class="p-3 tab-content"
    id="nav-tabContent"
    style="max-height: calc(100vh - 163px); overflow-y: auto; flex: 1"
  >
    <div
      *ngIf="focusedPoke && !loading"
      class="tab-pane fade show active"
      id="{{ focusedPoke.name }}"
      role="tabpanel"
      aria-labelledby="{{ focusedPoke.name }}"
    >
      <app-poke-detail [poke]="detailedPoke" [imgLoading]="imgLoading" (imgLoaded)="imgLoading = false"></app-poke-detail>
    </div>

    <div *ngIf="loading || imgLoading" class="d-flex justify-content-center">
      <div
        class="spinner-border text-primary"
        role="status"
        style="position: relative; top: 100px"
      >
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>
  </div>
</div>
